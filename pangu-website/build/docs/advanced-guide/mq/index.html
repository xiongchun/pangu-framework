<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.13">
<link rel="alternate" type="application/rss+xml" href="/pangu-framework/blog/rss.xml" title="ç›˜å¤å¼€å‘æ¡†æ¶ RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/pangu-framework/blog/atom.xml" title="ç›˜å¤å¼€å‘æ¡†æ¶ Atom Feed">
<script src="https://hm.baidu.com/hm.js?8a2c2aae78c4983e3cf661fea34e6353" async></script><title data-react-helmet="true">ç›˜å¤å¼€å‘æ¡†æ¶ | æ¶ˆæ¯é˜Ÿåˆ— MQ | RabbitMQ </title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://pulanos.gitee.io/pangu-framework/docs/advanced-guide/mq"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" name="author" content="æ™®è“å¼€æºç¤¾åŒº"><meta data-react-helmet="true" property="og:title" content="æ¶ˆæ¯é˜Ÿåˆ— | ç›˜å¤å¼€å‘æ¡†æ¶"><meta data-react-helmet="true" property="og:description" content="ç›˜å¤å¼€å‘æ¡†æ¶ | æ¶ˆæ¯é˜Ÿåˆ— MQ | RabbitMQ"><meta data-react-helmet="true" name="keywords" content="ç›˜å¤å¼€å‘æ¡†æ¶ | æ¶ˆæ¯é˜Ÿåˆ— MQ | RabbitMQ "><meta data-react-helmet="true" name="description" content="ã€Œç›˜å¤å¼€å‘æ¡†æ¶ã€æ˜¯å®Œå…¨ç‹¬ç«‹äº Spring Cloud ç”Ÿæ€çš„ä¸€å¥—è½»é‡çµæ´»ã€æˆç†Ÿå¯é çš„å·¥ä¸šçº§åˆ†å¸ƒå¼å¾®æœåŠ¡å¼€å‘å’Œæ²»ç†æ¡†æ¶ï¼ˆå…¼å®¹å‚ç›´å•ä½“åˆ†å±‚æ¶æ„)ã€‚å®ƒåŸºäº Apache-2.0 åè®®å¼€æºå‘å¸ƒï¼Œä¸”æ˜¯å…è´¹çš„ã€‚æˆ‘ä»¬å¸Œæœ›ä¸ä»…æ˜¯å¼€æºçš„å—ç›Šè€…ï¼Œä¹Ÿèƒ½æˆä¸ºå¼€æºçš„è´¡çŒ®è€…ï¼Œä¸å¼€æºç¤¾åŒºä¸€èµ·ã€Œå…±å»ºå…±äº«å¼€æºç”Ÿæ€ã€ã€‚"><link data-react-helmet="true" rel="icon" href="/pangu-framework/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://pulanos.gitee.io/pangu-framework/docs/advanced-guide/mq"><link data-react-helmet="true" rel="alternate" href="https://pulanos.gitee.io/pangu-framework/docs/advanced-guide/mq" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://pulanos.gitee.io/pangu-framework/docs/advanced-guide/mq" hreflang="x-default"><link rel="stylesheet" href="/pangu-framework/assets/css/styles.69be2fd7.css">
<link rel="preload" href="/pangu-framework/assets/js/runtime~main.a91eec2c.js" as="script">
<link rel="preload" href="/pangu-framework/assets/js/main.9e694ff9.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/pangu-framework/"><div class="navbar__logo"><img src="/pangu-framework/img/logo.svg" alt="ç›˜å¤å¼€å‘æ¡†æ¶" class="themedImage_TMUO themedImage--light_4Vu1"><img src="/pangu-framework/img/logo.svg" alt="ç›˜å¤å¼€å‘æ¡†æ¶" class="themedImage_TMUO themedImage--dark_uzRr"></div><b class="navbar__title">ç›˜å¤å¼€å‘æ¡†æ¶Â®</b></a><a class="navbar__item navbar__link navbar__link--active" href="/pangu-framework/docs/intro">å¼€å‘æŒ‡å—</a><a class="navbar__item navbar__link" href="/pangu-framework/blog">åšå®¢ä¸“æ </a><a class="navbar__item navbar__link" href="/pangu-framework/docs/faq">å¸¸è§é—®ç­”</a><a class="navbar__item navbar__link" href="/pangu-framework/docs/community">ç¤¾åŒº</a><a class="navbar__item navbar__link" href="/pangu-framework/docs/thanks">è‡´æ•¬</a></div><div class="navbar__items navbar__items--right"><a href="https://gitee.com/pulanos/pangu-framework" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Gitee<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a href="https://gitee.com/pulanos/pangu-framework" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_iYfV toggle_2i4l toggleDisabled_xj38"><div class="toggleTrack_t-f2" role="button" tabindex="-1"><div class="toggleTrackCheck_mk7D"><span class="toggleIcon_pHJ9">ğŸŒœ</span></div><div class="toggleTrackX_dm8H"><span class="toggleIcon_pHJ9">ğŸŒ</span></div><div class="toggleTrackThumb_W6To"></div></div><input type="checkbox" class="toggleScreenReader_h9qa" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_lDyR"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_i9tI" type="button"></button><aside class="docSidebarContainer_0YBq"><div class="sidebar_a3j0"><nav class="menu thin-scrollbar menu_cyFh"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/pangu-framework/docs/intro">ç®€ä»‹</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/pangu-framework/docs/install">å®‰è£…</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/pangu-framework/docs/quick-start/how-to-make-architecture">å¿«é€Ÿå¼€å§‹</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pangu-framework/docs/quick-start/how-to-make-architecture">å¼€å‘æ¶æ„æ¨¡å¼å¯¹æ¯”</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pangu-framework/docs/quick-start/how-to-make-monomer-architecture-app">å¦‚ä½•å¼€å‘å•ä½“åº”ç”¨</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pangu-framework/docs/quick-start/how-to-make-microservice-architecture-app">å¦‚ä½•å¼€å‘å¾®æœåŠ¡</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pangu-framework/docs/quick-start/how-to-make-gateway-app">ç½‘å…³å¼€å‘æ¨¡å¼ç®€ä»‹</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pangu-framework/docs/quick-start/how-to-make-gateway-app/springmvc-based">å¦‚ä½•å¼€å‘ç½‘å…³ï¼ˆSpringMVCï¼‰</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pangu-framework/docs/quick-start/how-to-make-gateway-app/shenyu-based">å¦‚ä½•å¼€å‘ç½‘å…³ï¼ˆShenYuï¼‰</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_TwRn" href="/pangu-framework/docs/advanced-guide/nacos-config-center">ä½¿ç”¨æŒ‡å—</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pangu-framework/docs/advanced-guide/nacos-config-center">é…ç½®ä¸­å¿ƒ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pangu-framework/docs/advanced-guide/nacos-regist-center">æ³¨å†Œä¸­å¿ƒ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pangu-framework/docs/advanced-guide/gateway">ç½‘å…³ç³»ç»Ÿ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pangu-framework/docs/advanced-guide/data-persistance">æ•°æ®æŒä¹…åŒ–</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pangu-framework/docs/advanced-guide/layering-cache">åˆ†å¸ƒå¼å¤šçº§ç¼“å­˜</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pangu-framework/docs/advanced-guide/distributed-lock">åˆ†å¸ƒå¼é”</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pangu-framework/docs/advanced-guide/distributed-transaction">åˆ†å¸ƒå¼äº‹åŠ¡</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/pangu-framework/docs/advanced-guide/mq">æ¶ˆæ¯é˜Ÿåˆ—</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pangu-framework/docs/advanced-guide/readwrite-splitting">æ•°æ®æ²»ç†ä¹‹è¯»å†™åˆ†ç¦»</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pangu-framework/docs/advanced-guide/data-sharding">æ•°æ®æ²»ç†ä¹‹æ•°æ®åˆ†ç‰‡</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/pangu-framework/docs/code-generator">ä»£ç ç”Ÿæˆå™¨æ’ä»¶</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/pangu-framework/docs/deploy-guide">éƒ¨ç½²è¿ç»´æŒ‡å—</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/pangu-framework/docs/examples-list">èŒƒä¾‹æ¨¡ç‰ˆå·¥ç¨‹</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/pangu-framework/docs/faq">å¸¸è§é—®ç­”FAQ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/pangu-framework/docs/thanks">è‡´æ•¬ &amp; é¸£è°¢</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/pangu-framework/docs/community">å¼€å‘è€…ç¤¾åŒº</a></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_eoK2"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_e+kA"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></aside><main class="docMainContainer_r8cw"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><div class="tocCollapsible_aw-L theme-doc-toc-mobile tocMobile_Tx6Y"><button type="button" class="clean-btn tocCollapsibleButton_zr6a">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>æ¶ˆæ¯é˜Ÿåˆ—</h1></header><p>ç›˜å¤å¼€å‘æ¡†æ¶ç¼ºçœä½¿ç”¨çš„æ¶ˆæ¯é˜Ÿåˆ—ä¸­é—´ä»¶æ˜¯ <a href="https://www.rabbitmq.com/" target="_blank" rel="noopener noreferrer">RabbitMQ</a>ã€‚æ¶ˆæ¯é˜Ÿåˆ—åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿçš„å¼‚æ­¥é€šä¿¡ã€æœåŠ¡è§£è€¦ã€æ¶ˆå³°å¡«è°·ã€ç¼“å­˜åŒæ­¥ç­‰åº”ç”¨åœºæ™¯ä¸‹æœ‰å¹¿æ³›çš„ä½¿ç”¨ã€‚</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="å®‰è£…ç›¸å…³ç›˜å¤æ¨¡å—">å®‰è£…ç›¸å…³ç›˜å¤æ¨¡å—<a aria-hidden="true" class="hash-link" href="#å®‰è£…ç›¸å…³ç›˜å¤æ¨¡å—" title="Direct link to heading">â€‹</a></h2><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_vU9c">ç›˜å¤ Parent</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_vU9c">åŸºç¡€æ¨¡å—</li><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_vU9c tabs__item--active">æ¶ˆæ¯é˜Ÿåˆ—æ¨¡å—</li></ul><div class="margin-vert--md"><div role="tabpanel" hidden=""><div class="codeBlockContainer_J+bg language-jsx"><div class="codeBlockContent_csEI jsx"><pre tabindex="0" class="prism-code language-jsx codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">parent</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">com</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">gitee</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">pulanos</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">pangu</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">pangu</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">parent</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">latest</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">version</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">xxx</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">relativePath</span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">parent</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></div><div role="tabpanel" hidden=""><div class="codeBlockContainer_J+bg language-jsx"><div class="codeBlockContent_csEI jsx"><pre tabindex="0" class="prism-code language-jsx codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">dependency</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">com</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">gitee</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">pulanos</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">pangu</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">pangu</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">spring</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">boot</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">starter</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">dependency</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></div><div role="tabpanel"><div class="codeBlockContainer_J+bg language-jsx"><div class="codeBlockContent_csEI jsx"><pre tabindex="0" class="prism-code language-jsx codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">dependency</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">com</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">gitee</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">pulanos</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">pangu</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">pangu</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">rabbitmq</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">spring</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">boot</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">starter</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">dependency</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></div></div></div><h2 class="anchor anchorWithStickyNavbar_y2LR" id="é˜Ÿåˆ—è§„åˆ’">é˜Ÿåˆ—è§„åˆ’<a aria-hidden="true" class="hash-link" href="#é˜Ÿåˆ—è§„åˆ’" title="Direct link to heading">â€‹</a></h2><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>å»ºè®®</h5></div><div class="admonition-content"><p>å»ºè®®æå‰è§„åˆ’é˜Ÿåˆ—ç»“æ„æ¨¡å‹ï¼Œè€Œä¸æ˜¯é€šè¿‡å®¢æˆ·ç«¯ API åŠ¨æ€åˆ›å»ºæ¶ˆæ¯äº¤æ¢æœºå’Œç»‘å®šé˜Ÿåˆ—ã€‚</p></div></div><p>æ ¹æ®åº”ç”¨åœºæ™¯å’Œä¸šåŠ¡ç±»å‹å…ˆè§„åˆ’è®¾è®¡å‡ºé˜Ÿåˆ—ç»“æ„æ¨¡å‹ï¼Œç„¶ååˆ†åˆ«å°†é˜Ÿåˆ—ç›¸å…³ä¿¡æ¯åˆ†é…ç»™ç”Ÿäº§ä¾§å’Œæ¶ˆè´¹ä¾§å¼€å‘äººå‘˜ã€‚æœ¬æ•™ç¨‹ä½¿ç”¨çš„é˜Ÿåˆ—æ¨¡å‹å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><img width="580" src="/pangu-framework/assets/images/14-pangu-framework-queue-5a69054a213557c7a93c4653ff7df4ad.png" alt="é˜Ÿåˆ—è§„åˆ’"><h3 class="anchor anchorWithStickyNavbar_y2LR" id="å›¾ç¤ºè¯´æ˜">å›¾ç¤ºè¯´æ˜<a aria-hidden="true" class="hash-link" href="#å›¾ç¤ºè¯´æ˜" title="Direct link to heading">â€‹</a></h3><p>ä¸Šå›¾æ‰€ç¤ºè™šæ‹Ÿæœºã€äº¤æ¢ä¸»æœºã€é˜Ÿåˆ—ã€è·¯ç”±ç±»å‹ã€è·¯ç”±é”®ç­‰ä¸º RabbitMQ ä¸­é—´ä»¶çš„æ¦‚å¿µã€‚æœ¬æ–‡å¯¹å…¶åšå¦‚ä¸‹ç®€è¦æè¿°ï¼Œè¯¦ç»†ä¿¡æ¯è¯·æŸ¥é˜… <a href="https://www.rabbitmq.com/" target="_blank" rel="noopener noreferrer">RabbitMQ</a> ç›¸å…³æ–‡æ¡£ã€‚</p><ul><li><strong>è™šæ‹Ÿä¸»æœºï¼ˆVirtual Hostï¼‰</strong><br>ä¸€ä¸ªèµ„æºç®¡ç†æ¦‚å¿µï¼Œç”¨ä½œé€»è¾‘éš”ç¦»ã€‚ä¸åŒ Vhost ä¹‹é—´çš„ Exchange å’Œ Queue ç›¸äº’éš”ç¦»ï¼Œäº’ä¸å¹²æ‰°ã€‚</li><li><strong>äº¤æ¢æœºï¼ˆExchangeï¼‰</strong><br>ç”Ÿäº§è€…å°†æ¶ˆæ¯å‘é€åˆ° Exchange ä¸­ï¼ŒExchange æ ¹æ®æ¶ˆæ¯çš„å±æ€§æˆ–å†…å®¹å°†æ¶ˆæ¯è·¯ç”±åˆ°ä¸€ä¸ªæˆ–å¤šä¸ª Queue ä¸­ï¼ˆæˆ–è€…ä¸¢å¼ƒï¼‰ï¼ŒConsumer ä» Queue ä¸­æ‹‰å–æ¶ˆæ¯è¿›è¡Œæ¶ˆè´¹ã€‚</li><li><strong>è·¯ç”±ç±»å‹</strong><br>äº¤æ¢æœºçš„å…³é”®å±æ€§ã€‚åŒ…æ‹¬ï¼šDirectã€Fanoutã€Topicã€‚<ul><li><strong>Direct</strong>ï¼šè¯¥ç±»å‹çš„äº¤æ¢æœºä¼šæŠŠæ¶ˆæ¯è·¯ç”±åˆ°ä¸è·¯ç”±é”®å®Œå…¨åŒ¹é…çš„ Queue ä¸­ã€‚</li><li><strong>Fanout</strong>ï¼šè¯¥ç±»å‹çš„äº¤æ¢æœºä¼šå°†æ¶ˆæ¯è·¯ç”±åˆ°æ‰€æœ‰ä¸å…¶ç»‘å®šçš„ Queue ä¸­ã€‚</li><li><strong>Topic</strong>ï¼šè¯¥ç±»å‹çš„äº¤æ¢æœºä¼šæ”¯æŒå¤šæ¡ä»¶åŒ¹é…å’Œæ¨¡ç³ŠåŒ¹é…å°†æ¶ˆæ¯è·¯ç”±è‡³ä¸å…¶ç»‘å®šçš„ Queue ä¸­ã€‚ï¼ˆæœ¬æ–‡ä¸è®²è§£ï¼Œä¸€èˆ¬æƒ…å†µä½¿ç”¨ Directã€Fanout å³å¯ï¼‰</li></ul></li><li><strong>è·¯ç”±é”®</strong><br>å½“äº¤æ¢æœºè·¯ç”±ç±»å‹ä¸º Direct æˆ– Topic æ—¶ï¼Œäº¤æ¢æœºç»‘å®šé˜Ÿåˆ—æ—¶éœ€è¦è®¾ç½®è·¯ç”±é”®ï¼Œç»™äº¤æ¢æœºå‘é€æ¶ˆæ¯æ—¶éœ€è¦å¸¦ä¸Šè¿™ä¸ªå‚æ•°ï¼Œäº¤æ¢æœºæ ¹æ®è·¯ç”±ç±»å‹å’Œè·¯ç”±é”®åŒ¹é…è§„åˆ™å°†æ¶ˆæ¯æŠ•é€’åˆ°åˆé€‚çš„é˜Ÿåˆ—ç­‰å¾…æ¶ˆè´¹ã€‚ï¼ˆDirect æ˜¯ç²¾ç¡®åŒ¹é…ã€Topic æ˜¯æ¨¡ç³ŠåŒ¹é…ã€Fanout ä¸éœ€è¦è·¯ç”±åŒ¹é…ï¼‰</li></ul><h2 class="anchor anchorWithStickyNavbar_y2LR" id="åˆ›å»ºé˜Ÿåˆ—">åˆ›å»ºé˜Ÿåˆ—<a aria-hidden="true" class="hash-link" href="#åˆ›å»ºé˜Ÿåˆ—" title="Direct link to heading">â€‹</a></h2><p>æœ¬æ–‡ä»¥è…¾è®¯äº‘ TDMQ (RabbitMQ ç‰ˆæœ¬) ä¸ºä¾‹ã€‚TDMQ RabbitMQ ç‰ˆæ˜¯ä¸€æ¬¾è…¾è®¯ç ”å‘çš„æ¶ˆæ¯é˜Ÿåˆ—æœåŠ¡ï¼Œæ”¯æŒ AMQP 0-9-1 åè®®ï¼Œå®Œå…¨å…¼å®¹å¼€æº RabbitMQ çš„å„ä¸ªç»„ä»¶ä¸æ¦‚å¿µã€‚å› æ­¤ï¼Œæœ¬æ•™ç¨‹ä¹Ÿé€‚ç”¨åŸç”Ÿå¼€æº RabbitMQ ä¸­é—´ä»¶å’Œå…¼å®¹å¼€æº RabbitMQ çš„å…¶å®ƒäº‘ç«¯æ¶ˆæ¯æœåŠ¡ã€‚</p><p>åœ¨æ§åˆ¶å°åˆ›å»ºé˜Ÿåˆ—åŠç›¸å…³ç»„ä»¶å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_vU9c tabs__item--active">è™šæ‹Ÿä¸»æœº</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_vU9c">äº¤æ¢æœº</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_vU9c">é˜Ÿåˆ—</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_vU9c">è·¯ç”±å…³ç³»</li></ul><div class="margin-vert--md"><div role="tabpanel"><p><img alt="è™šæ‹Ÿä¸»æœº" src="/pangu-framework/assets/images/17-pangu-framework-queue-3f644ee310a66a137d590f70b0ac0990.png"></p></div><div role="tabpanel" hidden=""><p><img alt="äº¤æ¢æœº" src="/pangu-framework/assets/images/18-pangu-framework-queue-757b4770b7e2729e710c4c7778b286b4.png"></p></div><div role="tabpanel" hidden=""><p><img alt="é˜Ÿåˆ—" src="/pangu-framework/assets/images/19-pangu-framework-queue-ffeb4363d1c2353b582a1e740dc2d737.png"></p></div><div role="tabpanel" hidden=""><p><img alt="è·¯ç”±å…³ç³»" src="/pangu-framework/assets/images/20-pangu-framework-queue-e6103b0b9b4b0e481013e283b84c45f6.png"></p></div></div></div><h2 class="anchor anchorWithStickyNavbar_y2LR" id="æ¶ˆæ¯ç”Ÿäº§è€…">æ¶ˆæ¯ç”Ÿäº§è€…<a aria-hidden="true" class="hash-link" href="#æ¶ˆæ¯ç”Ÿäº§è€…" title="Direct link to heading">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_y2LR" id="æœ¬åœ°é…ç½®">æœ¬åœ°é…ç½®<a aria-hidden="true" class="hash-link" href="#æœ¬åœ°é…ç½®" title="Direct link to heading">â€‹</a></h3><blockquote><p>ä¸ºä¾¿äºç†è§£ï¼Œæœ¬æ–‡åŸºäºæœ¬åœ°é…ç½®çš„æ–¹å¼ç¼–å†™ã€‚è‹¥æ”¹ä¸ºæ ‡å‡†çš„ Nacos é…ç½®ä¸­å¿ƒæ¨¡å¼ï¼Œè¯·å‚é˜…ï¼š<a href="/pangu-framework/docs/advanced-guide/nacos-config-center">é…ç½®ä¸­å¿ƒ</a> ç« èŠ‚ã€‚</p></blockquote><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_vU9c">application.properties</li><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_vU9c tabs__item--active">application-dev.properties</li></ul><div class="margin-vert--md"><div role="tabpanel" hidden=""><div class="codeBlockContainer_J+bg language-jsx"><div class="codeBlockContent_csEI jsx"><pre tabindex="0" class="prism-code language-jsx codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">spring</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">profiles</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">active</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">$</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">spring</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">profiles</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">active</span><span class="token operator" style="color:#393A34">:</span><span class="token plain">dev</span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></div><div role="tabpanel"><div class="codeBlockContainer_J+bg language-jsx"><div class="codeBlockContent_csEI jsx"><pre tabindex="0" class="prism-code language-jsx codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">spring</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">application</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">name</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">pangu</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">examples</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">mq</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">rabbitmq</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">sender</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spring</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">rabbitmq</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">host</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">jzaep3orxb2b</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">public</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">tencenttdmq</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spring</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">rabbitmq</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">port</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">5672</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spring</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">rabbitmq</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">username</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">admin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spring</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">rabbitmq</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">password</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">123456</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spring</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">rabbitmq</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">virtual</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">host</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">vhost</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">pangu</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">logging</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">level</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">root</span><span class="token operator" style="color:#393A34">=</span><span class="token constant" style="color:#36acaa">INFO</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">logging</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">level</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">com</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">gitee</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">pulanos</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">pangu</span><span class="token operator" style="color:#393A34">=</span><span class="token constant" style="color:#36acaa">INFO</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></div></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="æ¶ˆæ¯å‘é€ä»£ç ">æ¶ˆæ¯å‘é€ä»£ç <a aria-hidden="true" class="hash-link" href="#æ¶ˆæ¯å‘é€ä»£ç " title="Direct link to heading">â€‹</a></h3><div class="codeBlockContainer_J+bg language-jsx"><div class="codeBlockContent_csEI jsx"><pre tabindex="0" class="prism-code language-jsx codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">@Slf4j</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@Component</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">SendService</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Autowired</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> RabbitTemplate rabbitTemplate</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">     * å‘é€æ¶ˆæ¯åˆ°Fanoutäº¤æ¢æœº</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">     * @return</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">     */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">sendMsg1FanoutBased</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        String msg </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;æˆ‘æ˜¯äº‘å—å¤§ç†Š(Fanout), &quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> DateUtil</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">now</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// å‚æ•°è¯´æ˜ï¼šå‚æ•°1ï¼šäº¤æ¢æœºåç§°ã€‚  å‚æ•°2ï¼šrouting key  å‚æ•°3ï¼šæ¶ˆæ¯å†…å®¹</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        rabbitTemplate</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">convertAndSend</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;exchange-fanout&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> msg</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        log</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">info</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;æ¶ˆæ¯å‘é€æˆåŠŸã€‚{}&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> msg</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">     * å‘é€æ¶ˆæ¯åˆ°Directäº¤æ¢æœº</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">     * @return</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">     */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">sendMsg1DirectBased</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">String routingKey</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        String msg </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;æˆ‘æ˜¯äº‘å—å¤§ç†Š(Direct), &quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> DateUtil</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">now</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// å‚æ•°è¯´æ˜ï¼šå‚æ•°1ï¼šäº¤æ¢æœºåç§°ã€‚  å‚æ•°2ï¼šrouting key  å‚æ•°3ï¼šæ¶ˆæ¯å†…å®¹</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        rabbitTemplate</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">convertAndSend</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;exchange-direct&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> routingKey</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> msg</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        log</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">info</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;æ¶ˆæ¯å‘é€æˆåŠŸã€‚{}&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> msg</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</h5></div><div class="admonition-content"><p>å‘é€æ¶ˆæ¯åˆ° Fanout äº¤æ¢æœºæ—¶ï¼Œè·¯ç”±é”®å‚æ•°ä¸ºç©ºï¼›å‘é€æ¶ˆæ¯åˆ° Direct äº¤æ¢æœºæ—¶å€™è·¯ç”±é”®æ ¹æ®ä¸Šå›¾ï¼ˆé˜Ÿåˆ—è§„åˆ’ï¼‰ä¼ å‚ã€‚ï¼ˆå¦‚ï¼šKey-1ã€Key-2ï¼‰ã€‚</p></div></div><h2 class="anchor anchorWithStickyNavbar_y2LR" id="æ¶ˆæ¯æ¶ˆè´¹è€…">æ¶ˆæ¯æ¶ˆè´¹è€…<a aria-hidden="true" class="hash-link" href="#æ¶ˆæ¯æ¶ˆè´¹è€…" title="Direct link to heading">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_y2LR" id="æœ¬åœ°é…ç½®-1">æœ¬åœ°é…ç½®<a aria-hidden="true" class="hash-link" href="#æœ¬åœ°é…ç½®-1" title="Direct link to heading">â€‹</a></h3><blockquote><p>ä¸ºä¾¿äºç†è§£ï¼Œæœ¬æ–‡åŸºäºæœ¬åœ°é…ç½®çš„æ–¹å¼ç¼–å†™ã€‚è‹¥æ”¹ä¸ºæ ‡å‡†çš„ Nacos é…ç½®ä¸­å¿ƒæ¨¡å¼ï¼Œè¯·å‚é˜…ï¼š<a href="/pangu-framework/docs/advanced-guide/nacos-config-center">é…ç½®ä¸­å¿ƒ</a> ç« èŠ‚ã€‚</p></blockquote><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_vU9c">application.properties</li><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_vU9c tabs__item--active">application-dev.properties</li></ul><div class="margin-vert--md"><div role="tabpanel" hidden=""><div class="codeBlockContainer_J+bg language-jsx"><div class="codeBlockContent_csEI jsx"><pre tabindex="0" class="prism-code language-jsx codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">spring</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">profiles</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">active</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">$</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">spring</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">profiles</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">active</span><span class="token operator" style="color:#393A34">:</span><span class="token plain">dev</span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></div><div role="tabpanel"><div class="codeBlockContainer_J+bg language-jsx"><div class="codeBlockContent_csEI jsx"><pre tabindex="0" class="prism-code language-jsx codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">spring</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">application</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">name</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">pangu</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">examples</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">mq</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">rabbitmq</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">receiver</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spring</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">rabbitmq</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">host</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">jzaep3orxb2b</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">public</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">tencenttdmq</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spring</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">rabbitmq</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">port</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">5672</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spring</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">rabbitmq</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">username</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">admin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spring</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">rabbitmq</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">password</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">123456</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spring</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">rabbitmq</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">virtual</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">host</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">vhost</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">pangu</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># å¼€å¯</span><span class="token constant" style="color:#36acaa">ACK</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">NONE</span><span class="token operator" style="color:#393A34">|</span><span class="token constant" style="color:#36acaa">MANUAL</span><span class="token operator" style="color:#393A34">|</span><span class="token constant" style="color:#36acaa">AUTO</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">default</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">spring</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">rabbitmq</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">listener</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">simple</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">acknowledge</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">mode</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">manual</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">logging</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">level</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">root</span><span class="token operator" style="color:#393A34">=</span><span class="token constant" style="color:#36acaa">INFO</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">logging</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">level</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">com</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">gitee</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">pulanos</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">pangu</span><span class="token operator" style="color:#393A34">=</span><span class="token constant" style="color:#36acaa">INFO</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></div></div></div><h4 class="anchor anchorWithStickyNavbar_y2LR" id="å…³é”®é…ç½®é¡¹è¯´æ˜">å…³é”®é…ç½®é¡¹è¯´æ˜<a aria-hidden="true" class="hash-link" href="#å…³é”®é…ç½®é¡¹è¯´æ˜" title="Direct link to heading">â€‹</a></h4><ul><li>æ¶ˆæ¯ç¡®è®¤æ¨¡å¼é…ç½®é¡¹ï¼ˆ<code>spring.rabbitmq.listener.simple.acknowledge-mode</code>ï¼‰  <ul><li>NONEï¼šæ— æ¶ˆæ¯ç¡®è®¤æ”¯æŒã€‚æ¶ˆæ¯ä¸€æ—¦ä»é˜Ÿåˆ—å–å‡ºå³è¢«æ°¸ä¹…åˆ é™¤ã€‚</li><li>AUTOï¼šè‡ªåŠ¨ç¡®è®¤ï¼ˆç¼ºçœé…ç½®ï¼‰ã€‚æ¶ˆè´¹ä»£ç æŠ›å‡ºå¼‚å¸¸åˆ™é‡æ–°å°†æ¶ˆæ¯æ”¾å…¥é˜Ÿåˆ—ï¼Œæ— å¼‚å¸¸åˆ™æŠ›å‡ºåˆ™ç¡®è®¤æ¶ˆè´¹ã€‚</li><li>MANUALï¼šæ‰‹å·¥ç¡®è®¤ã€‚å¦‚ä¸‹ä»£ç æ ¹æ®ä¸šåŠ¡é€»è¾‘è¿›è¡Œæ‰‹å·¥ç¡®è®¤æ¶ˆæ¯ã€‚</li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_y2LR" id="æ¶ˆæ¯ç›‘å¬ä»£ç ">æ¶ˆæ¯ç›‘å¬ä»£ç <a aria-hidden="true" class="hash-link" href="#æ¶ˆæ¯ç›‘å¬ä»£ç " title="Direct link to heading">â€‹</a></h3><div class="codeBlockContainer_J+bg language-jsx"><div class="codeBlockContent_csEI jsx"><pre tabindex="0" class="prism-code language-jsx codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">@Component</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">Queue1Listener</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @RabbitHandler</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @</span><span class="token function" style="color:#d73a49">RabbitListener</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">queues </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;queue-1&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">receiveMsg</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Message message</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Channel channel</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> throws IOException </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        long deliveryTag </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> message</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">getMessageProperties</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">getDeliveryTag</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">try</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            log</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">info</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;æ¥æ”¶æ¶ˆæ¯(queue-1)ï¼š{}&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">message</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">getBody</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic">// do business...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            channel</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">basicAck</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">deliveryTag</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">catch</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Exception e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            log</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">error</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;æ¶ˆè´¹å‡ºé”™äº†&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            channel</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">basicNack</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">deliveryTag</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>å¦‚ä¸Šä¸º <code>queue-1</code> çš„ç›‘å¬ä»£ç ï¼Œå…¶ä½™ç±»ä¼¼ã€‚å¦‚æœ ACK æ¶ˆæ¯ç¡®è®¤æ¨¡å¼ä¸ºè‡ªåŠ¨æ¨¡å¼åˆ™æ¶ˆè´¹ä»£ç ä¸éœ€è¦ <code>try</code> ç»“æ„ã€‚</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="æµ‹è¯•">æµ‹è¯•<a aria-hidden="true" class="hash-link" href="#æµ‹è¯•" title="Direct link to heading">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_y2LR" id="æ¶ˆè´¹è€…å¯åŠ¨æ¶ˆè´¹ç›‘å¬ç¨‹åº">æ¶ˆè´¹è€…ï¼šå¯åŠ¨æ¶ˆè´¹ç›‘å¬ç¨‹åº<a aria-hidden="true" class="hash-link" href="#æ¶ˆè´¹è€…å¯åŠ¨æ¶ˆè´¹ç›‘å¬ç¨‹åº" title="Direct link to heading">â€‹</a></h3><div class="codeBlockContainer_J+bg language-jsx"><div class="codeBlockContent_csEI jsx"><pre tabindex="0" class="prism-code language-jsx codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">@SpringBootApplication</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">RabbitmqReceiverApplication</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">static</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">main</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">String</span><span class="token parameter punctuation" style="color:#393A34">[</span><span class="token parameter punctuation" style="color:#393A34">]</span><span class="token parameter"> args</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        PanGuApplicationBuilder</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">init</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">RabbitmqReceiverApplication</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">class</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">run</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">args</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="ç”Ÿäº§è€…æ‰§è¡Œæµ‹è¯•ç”¨ä¾‹å‘é€æ¶ˆæ¯">ç”Ÿäº§è€…ï¼šæ‰§è¡Œæµ‹è¯•ç”¨ä¾‹å‘é€æ¶ˆæ¯<a aria-hidden="true" class="hash-link" href="#ç”Ÿäº§è€…æ‰§è¡Œæµ‹è¯•ç”¨ä¾‹å‘é€æ¶ˆæ¯" title="Direct link to heading">â€‹</a></h3><div class="codeBlockContainer_J+bg language-jsx"><div class="codeBlockContent_csEI jsx"><pre tabindex="0" class="prism-code language-jsx codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> * å‘é€æ¶ˆæ¯äº¤æ¢æœº</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@Test</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">sendMsg</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">//å‘é€æ¶ˆæ¯åˆ°Fanoutäº¤æ¢æœº</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    sendService</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">sendMsg1FanoutBased</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">//å‘é€æ¶ˆæ¯åˆ°Directäº¤æ¢æœº</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    sendService</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">sendMsg1DirectBased</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;key-1&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">//å‘é€æ¶ˆæ¯åˆ°Directäº¤æ¢æœº</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    sendService</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">sendMsg1DirectBased</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;key-2&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="æµ‹è¯•ç»“æœæˆªå›¾">æµ‹è¯•ç»“æœæˆªå›¾<a aria-hidden="true" class="hash-link" href="#æµ‹è¯•ç»“æœæˆªå›¾" title="Direct link to heading">â€‹</a></h3><h4 class="anchor anchorWithStickyNavbar_y2LR" id="ç”Ÿäº§è€…">ç”Ÿäº§è€…<a aria-hidden="true" class="hash-link" href="#ç”Ÿäº§è€…" title="Direct link to heading">â€‹</a></h4><p><img alt="ç”Ÿäº§è€…" src="/pangu-framework/assets/images/15-pangu-framework-queue-a46980fa9e9eee4f987202887fac4ade.png"></p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="æ¶ˆè´¹è€…">æ¶ˆè´¹è€…<a aria-hidden="true" class="hash-link" href="#æ¶ˆè´¹è€…" title="Direct link to heading">â€‹</a></h4><p><img alt="æ¶ˆè´¹è€…" src="/pangu-framework/assets/images/16-pangu-framework-queue-17feb39cb253ed67c5e972b875193524.png"></p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="æœ¬æ–‡ç›¸å…³èŒƒä¾‹æºç ">æœ¬æ–‡ç›¸å…³èŒƒä¾‹æºç <a aria-hidden="true" class="hash-link" href="#æœ¬æ–‡ç›¸å…³èŒƒä¾‹æºç " title="Direct link to heading">â€‹</a></h2><ul><li><a href="https://gitee.com/pulanos/pangu-framework/tree/master/pangu-examples/pangu-examples-mq-rabbitmq-sender" target="_blank" rel="noopener noreferrer">pangu-examples-mq-rabbitmq-sender</a>ï¼šæ¶ˆæ¯é˜Ÿåˆ—èŒƒä¾‹ï¼ˆç”Ÿäº§è€…ï¼‰</li><li><a href="https://gitee.com/pulanos/pangu-framework/tree/master/pangu-examples/pangu-examples-mq-rabbitmq-receiver" target="_blank" rel="noopener noreferrer">pangu-examples-mq-rabbitmq-receiver</a>ï¼šæ¶ˆæ¯é˜Ÿåˆ—èŒƒä¾‹ï¼ˆæ¶ˆè´¹è€…ï¼‰</li></ul><h2 class="anchor anchorWithStickyNavbar_y2LR" id="ä¸‹ä¸€æ­¥">ä¸‹ä¸€æ­¥<a aria-hidden="true" class="hash-link" href="#ä¸‹ä¸€æ­¥" title="Direct link to heading">â€‹</a></h2><p>ç»§ç»­é˜…è¯»å…¶å®ƒç« èŠ‚è·å–ä½ æƒ³è¦çš„ç­”æ¡ˆæˆ–é€šè¿‡æˆ‘ä»¬çš„ <a href="/pangu-framework/docs/community">å¼€å‘è€…ç¤¾åŒº</a> å¯»æ±‚æ›´å¤šå¸®åŠ©ã€‚</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-tags-row row margin-bottom--sm"><div class="col"><b>Tags:</b><ul class="tags_NBRY padding--none margin-left--sm"><li class="tag_F03v"><a class="tag_WK-t tagRegular_LXbV" href="/pangu-framework/docs/tags/æ¶ˆæ¯é˜Ÿåˆ—">æ¶ˆæ¯é˜Ÿåˆ—</a></li></ul></div></div><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://gitee.com/pulanos/pangu-framework/tree/master/pangu-website/docs/advanced-guide/æ¶ˆæ¯é˜Ÿåˆ—.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_mS5F" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_mt2f"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/pangu-framework/docs/advanced-guide/distributed-transaction"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« <!-- -->åˆ†å¸ƒå¼äº‹åŠ¡</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/pangu-framework/docs/advanced-guide/readwrite-splitting"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">æ•°æ®æ²»ç†ä¹‹è¯»å†™åˆ†ç¦»<!-- --> Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#å®‰è£…ç›¸å…³ç›˜å¤æ¨¡å—" class="table-of-contents__link toc-highlight">å®‰è£…ç›¸å…³ç›˜å¤æ¨¡å—</a></li><li><a href="#é˜Ÿåˆ—è§„åˆ’" class="table-of-contents__link toc-highlight">é˜Ÿåˆ—è§„åˆ’</a><ul><li><a href="#å›¾ç¤ºè¯´æ˜" class="table-of-contents__link toc-highlight">å›¾ç¤ºè¯´æ˜</a></li></ul></li><li><a href="#åˆ›å»ºé˜Ÿåˆ—" class="table-of-contents__link toc-highlight">åˆ›å»ºé˜Ÿåˆ—</a></li><li><a href="#æ¶ˆæ¯ç”Ÿäº§è€…" class="table-of-contents__link toc-highlight">æ¶ˆæ¯ç”Ÿäº§è€…</a><ul><li><a href="#æœ¬åœ°é…ç½®" class="table-of-contents__link toc-highlight">æœ¬åœ°é…ç½®</a></li><li><a href="#æ¶ˆæ¯å‘é€ä»£ç " class="table-of-contents__link toc-highlight">æ¶ˆæ¯å‘é€ä»£ç </a></li></ul></li><li><a href="#æ¶ˆæ¯æ¶ˆè´¹è€…" class="table-of-contents__link toc-highlight">æ¶ˆæ¯æ¶ˆè´¹è€…</a><ul><li><a href="#æœ¬åœ°é…ç½®-1" class="table-of-contents__link toc-highlight">æœ¬åœ°é…ç½®</a></li><li><a href="#æ¶ˆæ¯ç›‘å¬ä»£ç " class="table-of-contents__link toc-highlight">æ¶ˆæ¯ç›‘å¬ä»£ç </a></li></ul></li><li><a href="#æµ‹è¯•" class="table-of-contents__link toc-highlight">æµ‹è¯•</a><ul><li><a href="#æ¶ˆè´¹è€…å¯åŠ¨æ¶ˆè´¹ç›‘å¬ç¨‹åº" class="table-of-contents__link toc-highlight">æ¶ˆè´¹è€…ï¼šå¯åŠ¨æ¶ˆè´¹ç›‘å¬ç¨‹åº</a></li><li><a href="#ç”Ÿäº§è€…æ‰§è¡Œæµ‹è¯•ç”¨ä¾‹å‘é€æ¶ˆæ¯" class="table-of-contents__link toc-highlight">ç”Ÿäº§è€…ï¼šæ‰§è¡Œæµ‹è¯•ç”¨ä¾‹å‘é€æ¶ˆæ¯</a></li><li><a href="#æµ‹è¯•ç»“æœæˆªå›¾" class="table-of-contents__link toc-highlight">æµ‹è¯•ç»“æœæˆªå›¾</a></li></ul></li><li><a href="#æœ¬æ–‡ç›¸å…³èŒƒä¾‹æºç " class="table-of-contents__link toc-highlight">æœ¬æ–‡ç›¸å…³èŒƒä¾‹æºç </a></li><li><a href="#ä¸‹ä¸€æ­¥" class="table-of-contents__link toc-highlight">ä¸‹ä¸€æ­¥</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/pangu-framework/docs/intro">å¼€å‘æŒ‡å—</a></li><li class="footer__item"><a class="footer__link-item" href="/pangu-framework/blog">åšå®¢ä¸“æ </a></li><li class="footer__item"><a class="footer__link-item" href="/pangu-framework/docs/faq">å¸¸è§é—®ç­”</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://gitee.com/pulanos/pangu-framework/issues?state=all" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Gitee Issues<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://gitee.com/pulanos/pangu-framework" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Gitee PanGu Framework<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://gitee.com/pulanos/pangu-framework" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub PanGu Framework<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/pangu-framework/docs/thanks">è‡´æ•¬ &amp; é¸£è°¢</a></li><li class="footer__item"><a href="https://www.oschina.net/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>å¼€æºä¸­å›½<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://www.apache.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Apache Software Foundation<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2022 æ™®è“å¼€æºç¤¾åŒº  Released under <a target="_blank" class="ghostwhite" href="https://www.apache.org/licenses/LICENSE-2.0">Apache V2 license</a></div></div></div></footer></div>
<script src="/pangu-framework/assets/js/runtime~main.a91eec2c.js"></script>
<script src="/pangu-framework/assets/js/main.9e694ff9.js"></script>
</body>
</html>